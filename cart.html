<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tumblers</title>
    <link rel="shortcut icon" href="asset/product/webicon.jpg" type="image/x-icon">
    <link rel="stylesheet" href="final.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:wght@100,200,300,400,500,600,700,800,900">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/4e6dd119e4.js" crossorigin="anonymous"></script>
</head>
<body>
<nav>
    <a href="#"><img src="./asset/logo.JPG" alt=""></a>
    <ul id="nav">
        <li><a href="home.html">Home</a></li>
        <li><a href="products.html"">Products</a></li>
        <li><a href="about-us.html">About Us</a></li>
        <li><a href="#contact">Contact Us</a></li>
        <li id="none"><a href="cart.html" class="active"><i class="fa-solid fa-cart-shopping"></i></a></li>
        <a href="#" id="x-btn"><i class="fa-solid fa-xmark"></i></a>
    </ul>

    <div class="mobile">
        <a href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
        <i class="fa-solid fa-bars" id="burger"></i>
    </div>
</nav>

<div class="items">
    <h2>CART</h2>
    <div class="overflow">
        <div class="cart-row cart-head">
            <div class="cart-box">Items</div>
            <div class="cart-box">Price</div>
            <div class="cart-box">Quantity</div>
            <div class="cart-box">Subtotal</div>
            <div class="cart-box">Remove</div>
        </div>
        <div class="cart-item">
        </div>
    </div>
    <div class="total-container">
        <div class="cart-total">
            <h3>Total:</h3>
            <span class="cart-total-price">Rp. 0</span>
        </div>
        <div class="purc">
            <button class="btn-purchase" type="button">PURCHASE</button>
        </div>
    </div>
</div>

<div class="footer" id="contact">
    <div class="footer-box">
        <h3>About</h3>
        <p>A simple company that makes tumblers that makes you feel simply happy.</p><br>
        <p>Secured Payment Gateways</p>
        <div class="pay">
            <i class="fa-brands fa-cc-paypal"></i>
            <i class="fa-brands fa-cc-visa"></i>
            <i class="fa-brands fa-google-pay"></i>
            <i class="fa-brands fa-cc-apple-pay"></i>
            <i class="fa-brands fa-cc-amazon-pay"></i>
        </div>
    </div>

    <div class="footer-box">
        <h3>Information</h3>
        <ul>
            <li><a href="about-us.html#term">Term & Condition</a></li>
            <li><a href="about-us.html#return">Return Policy</a></li>
            <li><a href="about-us.html#privacy">Privacy Policy</a></li>
        </ul>
    </div>

    <div class="footer-box">
        <h3>Contact</h3>
        <p><strong>Address: </strong> 1900 South Norfolk Street, Suite 350, San Mateo</p>
        <p><strong>Phone: </strong> 021-1214-555/(+62)896-3072-5148</p>
        <div class="sosmed">
            <p><strong>Connect With us:</strong></p>
            <a href="http://instagram.com"><i class="fab fa-instagram"></i></a>
            <a href="http://facebook.com"><i class="fab fa-facebook-f"></i></a>
            <a href="http://whatsapp.com"><i class="fab fa-whatsapp"></i></a>
            <a href="http://twitter.com"><i class="fab fa-twitter"></i></a>
        </div>
    </div>
    <div class="tm">
        <p>Â© 2023 Tumblers</p>
    </div>
</div>
<script src="final.js"></script>
<script>
  let existingProducts = JSON.parse(localStorage.getItem('products')) || [];

  const cartItemContainer = document.getElementsByClassName('cart-item')[0];

  cartItemContainer.innerHTML = '';

  existingProducts.forEach((cartItem) => {
    const newCartItem = document.createElement('div');
    newCartItem.classList.add('cart-row');
    newCartItem.innerHTML = `
      <div class="cart-box">
        <img src="${cartItem.img}" alt="item-image"> <br>
        <span class="cart-item-title">${cartItem.name}</span>
      </div>
      <div class="cart-box cart-item-price">
        ${cartItem.price}
      </div>
      <div class="cart-box">
        <input type="number" value="${cartItem.quantity}" class="cart-quantity">
      </div>
      <div class="cart-box cart-subtotal">
        ${cartItem.subtotal}
      </div>
      <div class="cart-box">
        <button class="btn-remove"><i class="fa-solid fa-xmark"></i></button>
      </div>
    `;

    cartItemContainer.appendChild(newCartItem);

    const subtotalElement = newCartItem.querySelector('.cart-subtotal');
    subtotalElement.textContent = "Rp. " + cartItem.subtotal.toLocaleString("id-ID", { style: "decimal" });
  });

  totalPrice();

function totalPrice() {
var totalPriceElement = document.querySelector('.cart-total-price');
var totalPrice = 0;

const cartSubtotals = document.querySelectorAll('.cart-subtotal');
for (const cartSubtotal of cartSubtotals) {
    const subtotal = parseFloat(cartSubtotal.textContent.replace(/Rp\.|\D/g, ''));
    totalPrice += subtotal;
}

totalPriceElement.textContent = "Rp. " + totalPrice.toLocaleString("id-ID", { style: "decimal" });
}

</script>
</body>
</html>
